实验2：图书管理系统用例建模

## 1.图书管理系统的用例关系图

### 1.1用例图PlantUML源码如下：

```
@startuml
left to right direction
skinparam packageStyle rectangle
actor 读者
actor 图书馆管理员
actor 系统管理员
(书籍增删改) <-up- 图书馆管理员
rectangle humer {
读者 --> (登陆)
读者 --> (借书)
读者 --> (还书)
读者 --> (书籍查询)
读者 --> (书籍预定)
读者 --> (查询预定结果)
读者 --> (书籍丢失登记)
读者 --> (修改读者信息)
读者 --> (密码修改)
(登陆) <-- 图书馆管理员
(借书) <-- 图书馆管理员
(还书) <-- 图书馆管理员
(书籍查询) <-- 图书馆管理员
(查询书籍预定) <-- 图书馆管理员
(读者预定处理) <-- 图书馆管理员
(书籍丢失处理) <-- 图书馆管理员
(读者管理) <-- 图书馆管理员
}
rectangle system{
系统管理员 --> (系统维护)
(系统维护) --> (日志维护)
(系统维护) --> (权限维护)
(系统维护) --> (增删维护)
(系统维护) --> (后台数据维护)
}
system --> humer
@enduml
```

![1.1](/1.1.png)

## 2.参与者说明：

### 2.1图书馆管理员

主要职责是：借书还书管理，读者管理，书籍管理和图书信息维护

### 2.2读者

主要职责是：借书，还书

### 2.3系统管理员：

主要职责是：系统维护



## 3.用例规约表

### 3.1“借出图书”用例

| 用例名称 | 借出图书                                                     |
| -------- | ------------------------------------------------------------ |
| 参与者   | 图书馆管理员，系统管理员，读者                               |
| 前置条件 | 图书管馆理员已被识别和授权                                   |
| 后置条件 | 存储借书记录，更新库存数量，所借图书状态为借出               |
| 主时间流 | 1.图书馆管理员将读者借书卡供给系统<br />2.系统验证读者身份和借书条件<br />3.图书馆管理员将读者所借图书输入系统<br />4.系统记录借书信息，并且修改图书的状态和此种书的可借数量<br />5.系统累加读者的借书数量<br />6.重复3~5，直到图书馆管理员确认读者所借全部图书登记完毕<br />7.系统打印借书清单，借书完成 |
| 备注     | 图书馆开架借阅，读者找到书后办理借书手续，因此借书不需要验证库存，而且每本书都是可识别的 |

#### "借出图书"用例流程图源码如下：

```
@startuml
|读者|
start
:借书卡;
|#AntiqueWhite|图书管理员|
:系统识别借书卡;
|#AntiqueWhite|系统|
:验证读者身份和条件;
:记录借书信息;
:修改图书的状态;
:修改此种书的可借数量;
:累加读者的借书数量;
|图书管理员|
while (全部图书登记完毕 ?) is (否)
:验证读者身份和条件;
:记录借书信息;
:修改图书的状态;
:修改此种书的可借数量;
:累加读者的借书数量;
endwhile (是)
|系统|
:打印借书清单;
:借书完成;
|#AntiqueWhite|系统管理员|
:图书维护;
stop
@enduml
```

![3.1](/3.1.png)

### 3.2“还回图书”用例

```
@startuml
|读者|
start
:借书卡和书;
|#AntiqueWhite|图书管理员|
:系统识别借书卡;
|#AntiqueWhite|系统|
:验证读者身份和条件;
:查询借书信息;
:修改图书的状态;
:修改此种书的可借数量;
:减少读者的借书数量;
|图书管理员|
while (全部图书登记完毕 ?) is (否)
:验证读者身份和条件;
:记录还书信息;
:修改图书的状态;
:修改此种书的可借数量;
:减少读者的借书数量;
endwhile (是)
|系统|
:打印还书清单;
:还书完成;
|#AntiqueWhite|系统管理员|
:图书维护;
stop
@enduml
```

#### "还回图书"用例流程图如下

![3.2](/3.2.png)



### 3.3“新增图书”用例

| 用例名称 | 购入图书                                                     |
| -------- | ------------------------------------------------------------ |
| 参与者   | 图书馆管理员，系统管理员                                     |
| 前置条件 | 图书馆管理员已被识别和授权                                   |
| 后置条件 | 更新库存数量                                                 |
| 主事件流 | 1.图书馆管理员队库存图书进行查阅<br />2.若图书数量小于4，则进行购入<br />3.购入图书后，将购入图书数量提交到系统<br />4.系统更新图书数量<br />5.系统管理员进行维护 |
| 备注     | 购入图书无需判断库存                                         |

#### "新增图书"用例流程图源码如下：

```
@startuml
|图书管理员|
start
:查阅库存图书;
if (该图书数量小于1？) then (是)
:新增图书;
:提交新增图书数量;
else (否)
stop
endif
|#AntiqueWhite|系统|
:更新图书数量;
|#AntiqueWhite|系统管理员|
:进行维护;
stop
@enduml
```

#### "新增图书"用例流程图如下：

![3.3](/3.3.png)

### 3.4“增删用户”用例

| 用例名称 | 增删用户                                                     |
| -------- | ------------------------------------------------------------ |
| 参与者   | 系统管理员                                                   |
| 前置条件 | 系统正常运行，一份用户名单                                   |
| 后置条件 | 用户增加或删除                                               |
| 主事件流 | 1.系统管理员选择要增加或删除的用户名单<br />2.增加用户并判断用户是否已存在<br />3.若不存在，则增加成功<br />4.删除用户并判断用户是否存在<br />5.若存在则删除成功<br />6.操作完成 |
| 备注     | 得到一份增删的名单                                           |

#### "增删用户"用例流程图源码如下：

```
@startuml
|系统管理者|
start
:查阅增删用户名单;
if (增加还是删除) then (增加)
  if(是否存在相同用户) then (否)
  :增加成功;
  else (是)
  stop
  endif

else (删除) 
  if(是否存在用户) then (是)
  :删除成功;
  else (否)
  stop
  endif
endif
:操作完成;
stop
@enduml
```

![3.4](/3.4.png)